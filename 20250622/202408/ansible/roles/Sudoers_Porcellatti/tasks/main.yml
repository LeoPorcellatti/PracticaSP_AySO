---
# tasks file for Sudoers_Porcellatti

- name: "Rol: Sudoers_Porcellatti"
  debug:
    msg: "Inicio de tareas dentro del Rol: Sudoers_Porcellatti"

- name: "Crear archivo /etc/sudoers.d/gprofesores si no existe"
  become: yes
  file:
    path: /etc/sudoers.d/gprofesores
    state: touch
    mode: '0440'

- name: "Permitir sudo sin contrase√±a a grupo GProfesores"
  become: yes
  lineinfile:
    path: /etc/sudoers.d/gprofesores
    state: present
    line: "%GProfesores ALL=(ALL) NOPASSWD: ALL"
    validate: 'visudo -cf %s'

- name: "Aviso de exito"
  debug:
    msg: "Sudoers modificado"
